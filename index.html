<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/icon-192.png" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />
    <meta name="theme-color" content="#000033" />
    <link rel="manifest" href="/manifest.json" />
    <title>DiscoFlight</title>
  </head>
  <body>
    <div id="app">
      <!-- Écran d'accueil -->
      <div id="welcome-screen" class="screen">
        <h1>
          <img height="60px" src="/icon-192.png" alt="DiscoFlight" />DiscoFlight
        </h1>
        <div class="story-container">
          <p class="story-text">
            Bienvenue, copilote d'élite ! Vous êtes à bord du tout dernier
            prototype furtif de l'armée, le DISCO (Dispositif Intelligent de
            Survol et de Camouflage Optimal).
          </p>
          <p class="story-text">
            Mais... il y a un problème. L'ingénieur chargé du projet, un certain
            Maurice, a mal interprété l'acronyme et a intégré un 'Mode Disco'...
            avec lumières clignotantes et musique disco activable via deux gros
            boutons rouges.
          </p>
          <p class="story-text">
            Pire encore, la chaise sur laquelle vous êtes assis est une chaise à
            roulettes, car Maurice pensait qu'un cockpit 'ergonomique'
            augmenterait vos performances.
          </p>
          <p class="story-text">
            Votre mission : garder l'équilibre et ne pas activer le mode Disco,
            sinon les radars ennemis vous repèrent ! Si la barre de détection en
            haut de l'écran se remplit, c'est fini pour vous. Bonne chance,
            pilote !
          </p>
        </div>
        <button id="start-button">Commencer la mission</button>
      </div>

      <!-- Écran d'orientation -->
      <div id="orientation-screen" class="screen hidden">
        <p>Veuillez tourner votre appareil en mode paysage</p>
      </div>

      <!-- Écran de jeu -->
      <div id="game-screen" class="screen hidden">
        <div id="detection-bar"></div>
        <div id="time-counter">0.00</div>
        <video id="sky-video" loop muted playsinline>
          <source src="./src/assets/sky-view.mp4" type="video/mp4" />
        </video>
        <img id="cockpit" src="./src/assets/cockpit.png" alt="Cockpit" />
        <img id="copilot" src="./src/assets/copilot.png" alt="Copilot" />
      </div>

      <!-- Écran de game over -->
      <div id="gameover-screen" class="screen hidden">
        <img id="explosion" src="./src/assets/explosion.jpg" alt="Explosion" />
        <div id="gameover-actions">
          <div id="final-score">Score: 0.00</div>
          <button id="restart-button">Recommencer</button>
          <button id="install-button">Installer</button>
        </div>
      </div>
    </div>
    <script type="module" src="/src/main.ts"></script>
  </body>
</html>
